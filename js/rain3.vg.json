{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": "container",
  "height": 600,
  "title": "Average Rainfall In Australian Towns and Cities since 2008",
  "projection": {
      "type": "mercator"
  },
  "params": [
      {
          "name": "Year_selection",
          "bind": {
              "input": "range",
              "min": 2008,
              "max": 2016,
              "step": 1,
              "name": "Year: "
          },
          "value": 2016
      }
  ],
  "layer": [
      {
          "data": {
              "url": "js/output.json",
              "format": {
                  "type": "topojson",
                  "feature": "STE_2016_AUST"
              }
          },
          "mark": {
              "type": "geoshape",
              "fill": "darkseagreen",
              "stroke": "black"
          }
      },
      {
          "data": {
              "url": "data/map.csv"
          },
          "transform": [
              {
                  "filter": "datum.Year == Year_selection"  
              }
          ],
          "mark": {
              "type": "circle",
              "opacity": 0.9
          },
          "encoding": {
              "longitude": {
                  "field": "Long",
                  "type": "quantitative"
              },
              "latitude": {
                  "field": "Lat",
                  "type": "quantitative"
              },
              "size": {
                  "field": "average_Rainfall",
                  "type": "quantitative",
                  "title": "Rainfall Intensity (mm)",
                  "scale": {
                      "domain": [0, 1,2,3,4,6],
                      "range": [0, 200,400,600,800,1000,1200]
                  },
                  "legend": {
                      "orient": "left"  
                  }
              },
              "color": {
                  "field": "average_Rainfall",
                  "type": "quantitative",
                  "title": "Rainfall Intensity (mm)",
                  "scale": {
                      "scheme": "blues"
                  },
                  "legend": {
                      "orient": "left"  
                  }
              },
              "tooltip": [
                  {
                      "field": "Location",
                      "type": "nominal",
                      "title": "Location"
                  },
                  {
                      "field": "average_Rainfall",
                      "type": "quantitative",
                      "title": "Average Rainfall (mm)",
                      "format": ".2f"
                  }
              ]
          }
      }
  ],
  "config": {
      "view": {
          "stroke": "transparent"  
      }
  }
}
